<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>HP Virtual Connect Domain Setup – Part 4: Server Profiles &#8211; Juanma's Blog</title>
<meta name="description" content="This is the fourth and last part of this series of posts about Virtual Connect, the first three were:

">
<meta name="keywords" content="HP, HP BladeSystem, networking, VC server profiles, VCEM, VCM, Virtual Connect, Virtual Connect Manager">

  

<!-- Twitter Cards -->
<meta name="twitter:title" content="HP Virtual Connect Domain Setup – Part 4: Server Profiles">
<meta name="twitter:description" content="This is the fourth and last part of this series of posts about Virtual Connect, the first three were:

">
<meta name="twitter:site" content="@jreypo">
<meta name="twitter:creator" content="@jreypo">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="/images/banner-blades.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="HP Virtual Connect Domain Setup – Part 4: Server Profiles">
<meta property="og:description" content="This is the fourth and last part of this series of posts about Virtual Connect, the first three were:

">
<meta property="og:url" content="/hp/networking/virtualization/hp-virtual-connect-domain-setup-%25e2%2580%2593-part-4-server-profiles/">
<meta property="og:site_name" content="Juanma's Blog">

<meta property="og:image" content="/images/banner-blades.png">






<link rel="canonical" href="/hp/networking/virtualization/hp-virtual-connect-domain-setup-%25e2%2580%2593-part-4-server-profiles/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Juanma's Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="/assets/js/vendor/html5shiv.min.js"></script>
	<script src="/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="/">Juanma's Blog</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				    
				        
				    
				    <li><a href="/about/" >About</a></li>
				
				    
				        
				    
				    <li><a href="/posts/" >Posts</a></li>
				
				    
				        
				    
				    <li><a href="/vmware-hp-links/" >HP Resources for VMware</a></li>
				
				    
				        
				    
				    <li><a href="/tags/" >Tags</a></li>
				
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->


  <div class="image-wrap">
  <img src=
    
      "/images/banner-blades.png"
    
  alt="HP Virtual Connect Domain Setup – Part 4: Server Profiles feature image">
  
  </div><!-- /.image-wrap -->


<div id="main" role="main">
  <div class="article-author-side">
    
  

<div itemscope itemtype="http://schema.org/Person">


	<img src="/images/bio-photo-2.jpg" class="bio-photo" alt="Juan Manuel Rey bio photo">


  <h3 itemprop="name">Juan Manuel Rey</h3>
  <p>Unix Geek. Sysadmin by heart turned cloud architect for VMware.</p>
  <a href="mailto:Juan Manuel Rey" class="author-social" target="_blank"><i class="fa fa-fw fa-envelope-square"></i> Email</a>
  <a href="http://twitter.com/jreypo" class="author-social" target="_blank"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a>
  
  <a href="http://plus.google.com/+JuanManuelReyPortal" class="author-social" target="_blank"><i class="fa fa-fw fa-google-plus-square"></i> Google+</a>
  <a href="http://linkedin.com/in/jreypo" class="author-social" target="_blank"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a>
  
  
  
  <a href="http://github.com/jreypo" class="author-social" target="_blank"><i class="fa fa-fw fa-github"></i> Github</a>
  <a href="http://stackoverflow.com/users/2454288/jreypo" class="author-social" target="_blank"><i class="fa fa-fw fa-stack-overflow"></i> Stackoverflow</a>
  
  
  
  
  
  
  
  
  
  
</div>

  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="/hp/networking/virtualization/hp-virtual-connect-domain-setup-%25e2%2580%2593-part-4-server-profiles/" rel="bookmark" title="HP Virtual Connect Domain Setup – Part 4: Server Profiles">HP Virtual Connect Domain Setup – Part 4: Server Profiles</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p>This is the fourth and last part of this series of posts about Virtual Connect, the first three were:</p>

<ul>
  <li><a href="/hp/networking/virtualization/hp-virtual-connect-domain-setup-part-1-domain-setup-wizard/" title="HP Virtual Connect Domain Setup – Part 1: Domain Setup Wizard"><strong>HP Virtual Connect Domain Setup - Part 1: Domain Setup Wizard</strong></a></li>
  <li><a href="/hp/networking/virtualization/hp-virtual-connect-domain-setup-part-2-network-setup/" title="HP Virtual Connect Domain Setup – Part 2: Network Setup"><strong>HP Virtual Connect Domain Setup - Part 2: Networking Setup</strong></a></li>
  <li><a href="/hp/networking/storage/virtualization/hp-virtual-connect-domain-setup-part-3-storage-setup/" title="HP Virtual Connect Domain Setup – Part 3: Storage Setup"><strong>HP Virtual Connect Domain Setup - Part 3: Storage Setup</strong></a></li>
</ul>

<p>In this final post I will discuss <strong>Server Profiles</strong>, what are they and how to create. As in the rest of the series I’m using <strong>Virtual Connect 3.10</strong>.</p>

<p>So, what is a Server Profile? We can define a Virtual Connect server profile as a logical grouping of attributes related to server connectivity that can be assigned to a server blade. You can see it as the connectivity personality of the server.</p>

<p>The server profile includes:</p>

<ul>
  <li>MAC address.</li>
  <li>Pre-boot Execution Environment (PXE) enablement.</li>
  <li>Network connection setting for each NIC port and WWN.</li>
  <li>SAN fabric connection.</li>
  <li>SAN boot parameter setting for each Fibre Channel HBA port.</li>
</ul>

<p>Once the server profile is created you can apply it to any server within the VC Domain. There is a maximum of 64 fully populated VC Server Profiles in a VC Domain.</p>

<p>As we saw in the network and storage posts the VCM can be configured so that blade servers use their factory-default MACs/WWNs and serial numbers or Virtual Connect provided and administered ranges of MACs and WWNs. These MACs and WWNs will override the default MAC and WWN values when a server profile is applied to the server and appear to pre-boot environments and host operating systems as the hardware addresses.</p>

<p>When a server profile is assigned to a Device Bay the <strong>Virtual Connect Manager</strong> securely connects to the blade in the bay and configures the NIC ports with profile provided MAC addresses and PXE settings and the FC HBA ports with the appropriate WWNs and SAN boot settings. Additionally the VCM automatically connects the server to the specified networks and SAN fabrics.</p>

<p>This server profile can then be copied or reassigned to another server as needed without interrupting the server connectivity to the network and SAN.</p>

<p>Once a blade server has been assigned a server profile and as long as it remains in the same device it does not require further VC Manager configuration during server or enclosure power cycle. They boot and access the network and fabric as long as soon as the server and interconnect modules are ready. If a server is inserted into a device bay that has already been assigned a server profile VCM automatically updates the configuration of that server before it is allowed to power on and connect to the network.</p>

<p>If a blade server is moved from a Virtual Connect managed enclosure to a non VC managed one all the ports automatically returns to their original factory values and settings in order to prevent duplicate MAC and WWNs within the datacenter because a blade server redeployment.</p>

<p>In addition to the above information the following points must be considered when working with server profiles:</p>

<ul>
  <li>Blade server and card firmware revision must be at a revision that supports Virtual Connect profile assignment.</li>
  <li>Before creating the first server profile select whether to use Virtual Connect administered MAC and WWN ranges or the local factory default values.</li>
  <li>After an enclosure is imported into a VC Domain the blades will remain isolated from networks and SAN fabrics until a server profile is assigned.</li>
  <li>When Virtual Connect administered MACs and/or WWNs or when changing Fibre Channel boot parameters the servers must be powered off in order to receive or relinquish a server profile.</li>
  <li>Fibre Channel SAN connections will display in the profile server screen only if the VC-FC module in the enclosure managed by Virtual Connect. If there is no VC-FC module the FC option wouldn’t appear in the server profile screen until a module has been added.</li>
  <li>Some server profile SAN boor settings, like the controller boot order, are applied only after the server has been booted with the final mezzanine card configuration.</li>
  <li>If PXE or SAN boot settings are made outside of Virtual Connect, the settings defined by the server profile will be restored after the blade server completes the next boot cycle.</li>
</ul>

<p>If you have worked in the past with the 2.x Virtual Connect Manager revisions I’m sure that you will remember the <strong>Server Profile Wizard</strong>. That wizard has been removed from the  3.x revisions of VCM.</p>

<p><a href="/images/vc_230_wizard.png"><img src="/images/vc_230_wizard.png" alt="" title="VCM 2.30 Server Profile Wizard" /></a></p>

<p>To start the server profile creation you have now to go to the <strong>Virtual Connect Home</strong> and in the <strong>Server</strong> area click on <strong>Define Server Profile</strong>.</p>

<p><a href="/images/server_profiles_1.png"><img src="/images/server_profiles_1.png" alt="" title="Define Server Profile" /></a></p>

<p>In the Define Server Profile screen first enter the name of the profile, ESX01 in the example, and choose if you want to use factory default MAC and WWN or the VC-predefined.</p>

<p><a href="/images/server_profiles_2.png"><img src="/images/server_profiles_2.png" alt="" /></a></p>

<p>Then move to <strong>Ethernet Network Connections</strong>. Here you can select the networks to assign to the ports, the port speed between AUTO, PREFERRED and CUSTOM and the PXE settings (ENABLED, DISABLED or USE-BIOS). By default there are only two connections created, to add more connections just right-click the area and choose <em>Add connection</em>.</p>

<p><a href="/images/server_profiles_3.png"><img src="/images/server_profiles_3.png" alt="" /></a></p>

<p>In Network Name if you choose Multiple Networks a new icon will appear that will allow you to edit this connection type. Click and a new section will show up, this section allows to select the <strong>Shared Uplink Set</strong> and the networks. There is also a checkbox to set if you want to force the same VLAN mappings as the <strong>Shared Uplink Set</strong> to the different networks.</p>

<p><a href="/images/server_profiles_7.png"><img src="/images/server_profiles_7.png" alt="" /></a></p>

<p>The next area is the <strong>FC SAN Connections</strong>. Assign the modules in the bays to the correspondent fabric and set the port speed.</p>

<p><a href="/images/server_profiles_4.png"><img src="/images/server_profiles_4.png" alt="" /></a></p>

<p>Also in this section you can define the SAN boot parameters, click on the checkbox, the page will dim and a pop-up will appear.There you can configure each FC connection as PRIMARY, SECONDARY, DISABLED or USE-BIOS and set the <strong>Target Port Name</strong> and the LUN.</p>

<p><a href="/images/server_profiles_5.png"><img src="/images/server_profiles_5.png" alt="" /></a></p>

<p>Finally we can assign the profile to a server bay.</p>

<p><a href="/images/server_profiles_6.png"><img src="/images/server_profiles_6.png" alt="" /></a></p>

<p>Click Apply and the new server profile will be done. You can always edit the existing server profiles from the <strong>Server Profiles</strong> screen in the VC administration interface.</p>

<p><a href="/images/server_profiles_8.png"><img src="/images/server_profiles_8.png" alt="" /></a></p>

<p>And this is the end. This series is done, if you have follow the correct steps outlined in the four posts you will have a fully operation Virtual Connect Domain. Of course there are a some topics I’d like to write about like iSCSI, FlexFabric and the VCM command line but I believe it’s better to do it in their own dedicated posts, stay tuned.</p>

<p>Juanma.</p>

      <hr />
      <footer role="contentinfo">
        <div class="social-share">
  <h4>Share on</h4>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=/hp/networking/virtualization/hp-virtual-connect-domain-setup-%25e2%2580%2593-part-4-server-profiles/" class="twitter" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=/hp/networking/virtualization/hp-virtual-connect-domain-setup-%25e2%2580%2593-part-4-server-profiles/" class="facebook" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=/hp/networking/virtualization/hp-virtual-connect-domain-setup-%25e2%2580%2593-part-4-server-profiles/" class="google-plus" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
  </ul>
</div><!-- /.social-share -->
        <p class="byline"><strong>HP Virtual Connect Domain Setup – Part 4: Server Profiles</strong> was published on <time datetime="2011-01-07T13:19:21+01:00">January 07, 2011</time>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="/openstack/vmware/upgrading-vmware-integrated-openstack/" title="Upgrading VMware Integrated OpenStack">Upgrading VMware Integrated OpenStack</a></li>
    
      <li><a href="/cloud/openstack/give-me-openstack-and-give-me-liberty/" title="Give me OpenStack and give me Liberty!">Give me OpenStack and give me Liberty!</a></li>
    
      <li><a href="/linux/red%20hat/sysadmin/dnf-the-new-fedora-package-manager/" title="DNF, the new Fedora package manager">DNF, the new Fedora package manager</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  
  <footer>
    

<span>&copy; 2015 Juan Manuel Rey. <br> Hosted on <a href="https://pages.github.com" rel="nofollow" target="_blank">GitHub Pages</a> and powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>




</body>
</html>
