<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Deploying OpenStack with KVM and VMware NSX - Part 1: NSX overview and initial setup &#8211; Juanma's Blog</title>
<meta name="description" content="If
you follow me on Twitter or
Google+ probably have
seen and increased number of tweets and posts about
OpenStack,
DevStack,
KVM and other Linux
related topics. It’s no secret that I am a *nix guy however it wasn’t
until last year that I really discovered OpenStack. Oh yes I knew about
it, have read a ton of articles and watched some videos in YouTube but I
never had the opportunity to actually play with it until I sat on a
Hands on Lab about OpenStack and vSphere during VMworld in Barcelona
last October. After VMworld I started a personal project to learn as
much as possible about OpenStack, using some labs with KVM and vSphere
to try to achieve a decent level of proficiency. Finally this year I was
able to ramp up with NSX and decided to build a new lab with OpenStack,
KVM and NSX and document my progress here in my blog. So without further
ado here it is my first series of posts about OpenStack and NSX.

">
<meta name="keywords" content="Cloud, Havana, Linux, networking, NSX, NSX-MH, Open vSwitch, OpenFlow, OpenStack, OVS, Virtualization">

  

<!-- Twitter Cards -->
<meta name="twitter:title" content="Deploying OpenStack with KVM and VMware NSX - Part 1: NSX overview and initial setup">
<meta name="twitter:description" content="If
you follow me on Twitter or
Google+ probably have
seen and increased number of tweets and posts about
OpenStack,
DevStack,
KVM and other Linux
related topics. It’s no secret that I am a *nix guy however it wasn’t
until last year that I really discovered OpenStack. Oh yes I knew about
it, have read a ton of articles and watched some videos in YouTube but I
never had the opportunity to actually play with it until I sat on a
Hands on Lab about OpenStack and vSphere during VMworld in Barcelona
last October. After VMworld I started a personal project to learn as
much as possible about OpenStack, using some labs with KVM and vSphere
to try to achieve a decent level of proficiency. Finally this year I was
able to ramp up with NSX and decided to build a new lab with OpenStack,
KVM and NSX and document my progress here in my blog. So without further
ado here it is my first series of posts about OpenStack and NSX.

">
<meta name="twitter:site" content="@jreypo">


<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/default-thumb.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Deploying OpenStack with KVM and VMware NSX - Part 1: NSX overview and initial setup">
<meta property="og:description" content="If
you follow me on Twitter or
Google+ probably have
seen and increased number of tweets and posts about
OpenStack,
DevStack,
KVM and other Linux
related topics. It’s no secret that I am a *nix guy however it wasn’t
until last year that I really discovered OpenStack. Oh yes I knew about
it, have read a ton of articles and watched some videos in YouTube but I
never had the opportunity to actually play with it until I sat on a
Hands on Lab about OpenStack and vSphere during VMworld in Barcelona
last October. After VMworld I started a personal project to learn as
much as possible about OpenStack, using some labs with KVM and vSphere
to try to achieve a decent level of proficiency. Finally this year I was
able to ramp up with NSX and decided to build a new lab with OpenStack,
KVM and NSX and document my progress here in my blog. So without further
ado here it is my first series of posts about OpenStack and NSX.

">
<meta property="og:url" content="/cloud/linux/networking/openstack/vmware/deploying-openstack-with-kvm-and-vmware-nsx-part-1-nsx-overview-and-initial-setup/">
<meta property="og:site_name" content="Juanma's Blog">

<meta property="og:image" content="/images/default-thumb.png">






<link rel="canonical" href="/cloud/linux/networking/openstack/vmware/deploying-openstack-with-kvm-and-vmware-nsx-part-1-nsx-overview-and-initial-setup/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Juanma's Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="/assets/js/vendor/html5shiv.min.js"></script>
	<script src="/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="/">Juanma's Blog</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				    
				        
				    
				    <li><a href="/about/" >About</a></li>
				
				    
				        
				    
				    <li><a href="/posts/" >Posts</a></li>
				
				    
				        
				    
				    <li><a href="/vmware-hp-links/" >HP Resources for VMware</a></li>
				
				    
				        
				    
				    <li><a href="/tags/" >Tags</a></li>
				
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main">
  <div class="article-author-side">
    
  

<div itemscope itemtype="http://schema.org/Person">


	<img src="/images/" class="bio-photo" alt=" bio photo">


  <h3 itemprop="name"></h3>
  <p></p>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
</div>

  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="/cloud/linux/networking/openstack/vmware/deploying-openstack-with-kvm-and-vmware-nsx-part-1-nsx-overview-and-initial-setup/" rel="bookmark" title="Deploying OpenStack with KVM and VMware NSX - Part 1: NSX overview and initial setup">Deploying OpenStack with KVM and VMware NSX - Part 1: NSX overview and initial setup</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p><a href="http://www.openstack.org"><img src="%7B%7B%20site.baseurl%20%7D%7D/assets/openstack-cloud-software-vertical-large.png?w=150" alt="" /></a>If
you follow me on <a href="http://twitter.com/jreypo">Twitter</a> or
<a href="http://plus.google.com/107485549683160294074/">Google+</a> probably have
seen and increased number of tweets and posts about
<strong><a href="http://www.openstack.org">OpenStack</a></strong>,
<strong><a href="http://devstack.org/">DevStack</a></strong>,
<strong><a href="http://www.linux-kvm.org/page/Main_Page">KVM</a></strong> and other Linux
related topics. It’s no secret that I am a *nix guy however it wasn’t
until last year that I really discovered OpenStack. Oh yes I knew about
it, have read a ton of articles and watched some videos in YouTube but I
never had the opportunity to actually play with it until I sat on a
Hands on Lab about OpenStack and vSphere during VMworld in Barcelona
last October. After VMworld I started a personal project to learn as
much as possible about OpenStack, using some labs with KVM and vSphere
to try to achieve a decent level of proficiency. Finally this year I was
able to ramp up with NSX and decided to build a new lab with OpenStack,
KVM and NSX and document my progress here in my blog. So without further
ado here it is my first series of posts about OpenStack and NSX.</p>

<p>During this series we will see how to deploy OpenStack with KVM as the
underlying hypervisor and VMware NSX for the networking part. I intended
to create a fairly comprehensive guide here for my personal reference
and as a learning exercise. All posts of the series are based on my
personal experience in a lab environment.</p>

<h3 id="lab-components">Lab components</h3>

<p>To illustrate the post I have created a lab with virtual machines
running on VMware Fusion in my MacBook Pro, but you can use any
virtualization software you want as long as it allows you to expose the
virtualization extensions to the virtual machine, for the KVM compute
node. We will need the following virtual machines</p>

<ul>
  <li>Cloud controller node</li>
  <li>Nova compute node with KVM</li>
  <li>Neutron networking node</li>
  <li>GlusterFS storage node</li>
  <li>NSX Controller</li>
  <li>NSX Manager</li>
  <li>NSX Service Node</li>
  <li>NSX Gateway</li>
</ul>

<p>I’ll provide the exact hardware config of each virtual machine in its
own part. We will deploy OpenStack Havana using as reference one of the
architectures described in OpenStack Havana installation guide.</p>

<p>You are probably asking yourself now why I’m using Havana when Icehouse
was released just a few weeks ago? There are two reasons for this, first
is that when I started to create my lab and decided to document my
progress here Icehouse wasn’t out yet and after it was released I
decided to stick with Havana because the NSX plugin for Neutron,
OpenStack network module, has not been updated yet for Icehouse.</p>

<p>The software versions to be used are:</p>

<ul>
  <li>OpenStack Havana</li>
  <li>CentOS 6.4 - For OpenStack nodes</li>
  <li>Fedora 20 - For GlusterFS storage node</li>
  <li>NSX for multi-hypervisor</li>
</ul>

<p>I have another Fedora 20 virtual machine providing DNS and NTP services
for the lab, I’m planning to add DHCP and OpenLDAP capabilities in the
future.</p>

<h3 id="nsx-deployment-overview">NSX deployment overview</h3>

<h4 id="screen-shot-2014-04-24-at-2240407b7b20sitebaseurl207d7dassetsscreen-shot-2014-04-24-at-22-40-40pnghttpjreypofileswordpresscom201404screen-shot-2014-04-24-at-22-40-40pngthe-network-views"><a href="http://jreypo.files.wordpress.com/2014/04/screen-shot-2014-04-24-at-22-40-40.png"><img src="%7B%7B%20site.baseurl%20%7D%7D/assets/screen-shot-2014-04-24-at-22-40-40.png" alt="Screen Shot 2014-04-24 at 22.40.40" /></a>The Network Views</h4>

<p>The first concept you need to understand in NSX are the network views.
NSX defines two network views:</p>

<ul>
  <li>Logical Network View</li>
  <li>Transport Network View</li>
</ul>

<p>The <strong>Logical Network View</strong> is a representation of the network services
and connectivity that a virtual machine “see” in the cloud, basically
for the operating system running inside the VM the logical network view
is “the network” that it is connected to. The Logical Network View is
completely independent from the underlying physical network. It is made
of the logical ports, switches and routers that interconnects the
different virtual machines within a tenant and connect them to the
outside physical network. In a cloud each tenant will have its own
logical network view and would isolated from other tenants views.</p>

<p>The <strong>Transport Network View</strong> represents the physical devices that
underlie the logical networks. These devices or transport nodes, as they
are referred, can be hypervisors and the network appliances
interconnecting those hypervisors to the external physical network.
Every one of these transport nodes must run an instance of Open vSwitch.</p>

<h4 id="nsx-deployment-components">NSX Deployment Components</h4>

<p>An NSX deployment will be made out of the Control Plane and Data Plane.
Additionally there is a Management Plane comprised by the NSX Manager,
last one is not mandatory for an OpenStack deployment but it can be
useful.</p>

<h5 id="nsx-control-plane">NSX Control Plane</h5>

<p>The Control Plane is made of the <strong>NSX Controller Cluster</strong>. This is an
OpenFlow controller that manages all the Open vSwitch devices running on
the transport nodes and a logical network manager that allow to build
and maintain all the logical networks carried by the transport nodes. It
provides consistency between logical network view and transport network
view. Internally it has several roles to manage the different tasks it
is responsible of.</p>

<ul>
  <li>Transport node management: Maintains connections with the different
OVS instances.</li>
  <li>Logical network management: Monitors when endhosts get connected and
disconnected from OVS. Also implements logical connectivity and
policies by configuring OVS forwarding states.</li>
  <li>Data persistence and replication: Stores data from OVS devices and
NVP API to provides persistence across all nodes of the cluster in
case of failure.</li>
  <li>API server: Handles HTTP requests from external elements.</li>
</ul>

<p>The NSX Controller is an scalable out cluster running on x86 hardware,
it supports a minimum of three nodes and a maximum of five. Single node
clusters are not supported although for the lab I deployed a single-node
one.</p>

<h5 id="nsx-data-plane">NSX Data Plane</h5>

<p>The Data Plane will be implemented by the previously referred transport
nodes, this is OVS devices and NSX appliances, managed by the Controller
Cluster.</p>

<p><strong>Hypervisors:</strong> The compute nodes leveraging Open vSwitch to provide
network connectivity for the virtual machines.</p>

<p><strong>NSX Gateway/s:</strong> The NSX Gateways formed the Gateway Service that
allows a logical network to be attached to a physical network not
managed by NSX. The gateways can be L2 Gateway, expands L2 logical
segment to include a physical one, and L3 Gateway that maps itself to
physical router port.</p>

<p><strong>NSX Service Node/s:</strong> The Service Nodes are OVS enabled appliances
that provide extra processing capacity by offloading network packet
processing from the hypervisor virtual switches. The type of operations
managed by the service nodes are for example assisting with the packet
replication during broadcast/multicast operations or unknown multicast
flooding in overlay logical networks.</p>

<h5 id="nsx-management-plane">NSX Management Plane</h5>

<p>The NSX Management Plane is composed exclusively by the <strong>NSX Manager</strong>.
Provides a different and more friendly way to interact with the NVP API,
and configure the logical network components for example, through its
web UI. In an OpenStack deployment there is need to use it, however it
can be helpful for troubleshooting purposes.</p>

<h3 id="nsx-network-appliances-deployment">NSX network appliances deployment</h3>

<p>For our lab purposes create four Ubuntu x64 virtual machines with 1vCPU,
1GB of RAM, 1 network interface (E1000) and 16GB of disk.</p>

<h4 id="nsx-controller">NSX Controller</h4>

<p>Power on the VM and on the boot screen select Automated Install.</p>

<p><a href="http://jreypo.files.wordpress.com/2014/04/screen-shot-2014-04-27-at-20-49-15.png"><img src="%7B%7B%20site.baseurl%20%7D%7D/assets/screen-shot-2014-04-27-at-20-49-15.png?w=580" alt="Screen Shot 2014-04-27 at
20.49.15" /></a></p>

<p>The installation will take several minutes to finish. When it’s finished
you will see a prompt like this in the virtual machine console.</p>

<p><a href="http://jreypo.files.wordpress.com/2014/04/screen-shot-2014-04-27-at-22-42-11.png"><img src="%7B%7B%20site.baseurl%20%7D%7D/assets/screen-shot-2014-04-27-at-22-42-11.png?w=580" alt="Screen Shot 2014-04-27 at
22.42.11" /></a></p>

<p>Login as <code>admin</code> user with password admin. In a normal deployment you
will configure admin user password with <code>set admin user password</code> but
for the lab is not needed.</p>

<p>Set the IP address for the controller node.</p>

<pre><code>nsx-controller # set network interface breth0 static 192.168.82.45 255.255.255.0
Setting IP for interface breth0...
Clearing DNS configuration...
nsx-controller #
nsx-controller # show network interface breth0
IP config: static
Address: 192.168.82.45
Netmask: 255.255.255.0
Broadcast: 192.168.82.255
MTU: 1500
MAC: 00:0c:29:92:ce:0c
Admin-Status: UP
Link-Status: UP
SNMP: disabled
nsx-controller #
</code></pre>

<p>Configure the hostname.</p>

<pre><code>nsx-controller # set hostname nsxc
nsxc #
</code></pre>

<p>Next configure the default route.</p>

<pre><code>nsxc # add network route 0.0.0.0 0.0.0.0 192.168.82.2
nsxc #
nsxc # show network route
Prefix/Mask         Gateway         Metric  MTU     Iface
0.0.0.0/0           192.168.82.2    0       intf    breth0
192.168.82.0/24     0.0.0.0         0       intf    breth0
nsxc #
</code></pre>

<p>Set the address of the DNS and NTP servers.</p>

<pre><code>nsxc # add network dns-server 192.168.82.110
nsxc #
nsxc # add network ntp-server 192.168.82.110
 * Stopping NTP server ntpd                                                                                                                                                          [ OK ]
Synchronizing with NTP servers. This may take a few seconds...
27 Apr 21:03:49 ntpdate[3755]: step time server 192.168.82.110 offset -7199.735794 sec
 * Starting NTP server ntpd                                                                                                                                                          [ OK ]
nsxc #
</code></pre>

<p>Set the management address of the control cluster.</p>

<pre><code>set control-cluster management-address 192.168.82.45
</code></pre>

<p>Configure the IP address to be used for communication with the different
transport nodes.</p>

<pre><code>set control-cluster role switch_manager listen-ip 192.168.82.45
</code></pre>

<p>Configure the IP address to handle NVP API requests.</p>

<pre><code>set control-cluster role api_provider listen-ip 192.168.82.45
</code></pre>

<p>Finally join the cluster, since this the first node of the cluster the
IP has to be its own one.</p>

<pre><code>nsxc # join control-cluster 192.168.82.45
Clearing controller state and restarting
Stopping nicira-nvp-controller: [Done]
Clearing nicira-nvp-controller's state: OK
Starting nicira-nvp-controller: CLI revert file already exists
mapping eth0 -&gt; bridged-pif
ssh stop/waiting
ssh start/running, process 5009
mapping breth0 -&gt; eth0
mapping breth0 -&gt; eth0
ssh stop/waiting
ssh start/running, process 5158
Setting core limit to unlimited
Setting file descriptor limit to 100000
 nicira-nvp-controller [OK]
** Watching control-cluster history; ctrl-c to exit **
===================================
Host nsx-controller
Node ffac511c-12b3-4dd0-baa7-632df4860521 (192.168.82.248)
  04/27 22:40:42: Initializing data contact with cluster
  04/27 22:40:49: Fetching initial configuration data
  04/27 22:40:51: Join complete
nsxc #
</code></pre>

<p>You can check at any moment the status of the node in the cluster with
the <code>show control-cluster status</code> command.</p>

<pre><code>nsxc # show control-cluster status
Type                Status                                       Since
--------------------------------------------------------------------------------
Join status:        Join complete                                04/27 22:40:51
Majority status:    Disconnected from cluster majority           04/27 22:53:44
Restart status:     This controller can be safely restarted      04/27 21:23:29
Cluster ID:         7837a89a-22f3-4c8c-8bef-c100886374e9
Node UUID:          7837a89a-22f3-4c8c-8bef-c100886374e9

Role                Configured status   Active status
--------------------------------------------------------------------------------
api_provider        enabled             activated
persistence_server  enabled             activated
switch_manager      enabled             activated
logical_manager     enabled             activated
directory_server    disabled            disabled
nsxc #
</code></pre>

<p>In a standard NSX deployment now would the moment to add more nodes to
the cluster using again the <code>join control-cluster</code> command with the same
IP address.</p>

<h4 id="nsx-gateway">NSX Gateway</h4>

<p>Proceed with the Automated Install as in the Controller node. When the
installation is done login as <code>admin</code> user.</p>

<p>Set IP address.</p>

<pre><code>set network interface breth0 static 192.168.82.47 255.255.255.0
</code></pre>

<p>Set hostname.</p>

<pre><code>set hostname nsxg
</code></pre>

<p>Configure the rest of the network parameters as in the Controller node
and proceed to the gateway specific configuration.</p>

<pre><code>nsxg # add switch manager 192.168.82.45
Waiting for the manager CA certificate to synchronize...
Manager CA certificate synchronized
nsxg #
</code></pre>

<h4 id="nsx-service-node">NSX Service Node</h4>

<p>Again launch the Automated Install and let it finish. As <code>admin</code> user
configure the IP address…</p>

<pre><code>set network interface breth0 static 192.168.82.46 255.255.255.0
</code></pre>

<p>…and the hostname.</p>

<pre><code>set hostname nsxsn
</code></pre>

<p>Finish the network configuration as in the Gateway and the Controller
and configure the Service Node to be aware of the Controller Cluster</p>

<pre><code>add switch manager 192.168.82.45
</code></pre>

<p>The above command will return an error like this.</p>

<pre><code>Manager CA certificate failed to synchronize.  Verify
the manager is running on the specified IP address.
</code></pre>

<p>It’s normal since the Transport Node will not be able to connect to the
NSX Controller Cluster until the cluster has been informed, either via
NVP API or NSX Manager interface, about the existence of the Transport
Node.</p>

<h4 id="nsx-manager">NSX Manager</h4>

<p>Access the NSX Manager console, you have to see a similar screen.</p>

<p><a href="http://jreypo.files.wordpress.com/2014/04/screen-shot-2014-04-28-at-00-47-54.png"><img src="%7B%7B%20site.baseurl%20%7D%7D/assets/screen-shot-2014-04-28-at-00-47-54.png?w=580" alt="Screen Shot 2014-04-28 at
00.47.54" /></a></p>

<p>Set the IP and the hostname and configure the default route, DNS and NTP
server.</p>

<pre><code>set network interface breth0 static 192.168.82.47 255.255.255.0
set hostname nsxm
add network route 0.0.0.0 0.0.0.0 192.168.82.2
add network dns-server 192.168.82.110
add network ntp-server 192.168.82.110
</code></pre>

<p>With this we have completed the installation and initial configuration
of our four NSX appliances. In a real world deployment we should have to
add at least two more NSX controller nodes to our cluster and maybe one
or more gateways in order to setup L2 and L3 Gateway Services. The
number of Service Nodes will depend on the expected load of our cloud.</p>

<h4 id="connect-the-nsx-manager-to-the-controller-cluster">Connect the NSX Manager to the Controller Cluster</h4>

<p>Our next step is to connect our newly crested NSX Controller Cluster
with NSX Manager. Access NSX Manager web interface and login as admin
user.</p>

<p><a href="http://jreypo.files.wordpress.com/2014/04/screen-shot-2014-04-28-at-01-10-19.png"><img src="%7B%7B%20site.baseurl%20%7D%7D/assets/screen-shot-2014-04-28-at-01-10-19.png" alt="Screen Shot 2014-04-28 at
01.10.19" /></a></p>

<p>After the login the Manager will indicate that there is no Controller
Cluster added.</p>

<p><a href="http://jreypo.files.wordpress.com/2014/04/screen-shot-2014-04-28-at-01-15-33.png"><img src="%7B%7B%20site.baseurl%20%7D%7D/assets/screen-shot-2014-04-28-at-01-15-33.png?w=580" alt="Screen Shot 2014-04-28 at
01.15.33" /></a></p>

<p>Click the <em>Add Cluster</em> button and enter the data for the NSX Controller
Cluster.</p>

<p><a href="http://jreypo.files.wordpress.com/2014/04/screen-shot-2014-04-28-at-01-26-03.png"><img src="%7B%7B%20site.baseurl%20%7D%7D/assets/screen-shot-2014-04-28-at-01-26-03.png" alt="Screen Shot 2014-04-28 at
01.26.03" /></a></p>

<p>If the connection is successful the a new screen will show up.</p>

<p><a href="http://jreypo.files.wordpress.com/2014/04/screen-shot-2014-04-28-at-01-36-29.png"><img src="%7B%7B%20site.baseurl%20%7D%7D/assets/screen-shot-2014-04-28-at-01-36-29.png?w=580" alt="Screen Shot 2014-04-28 at
01.36.29" /></a></p>

<p>Provide the following information:</p>

<ul>
  <li>Name of the cluster</li>
  <li>Contact email address of the administrator</li>
  <li>Automatically Use New IPs - This setting, checked by default, will
add all the IP address of the members form this cluster as eligible
to receive API call from the NSX Manager.</li>
  <li>Make Active Cluster</li>
</ul>

<p>In the next screen enter the IP address of your syslog server or click
<em>Use This NSX Manager</em> to use the NSX Manager as syslog server.</p>

<p><a href="http://jreypo.files.wordpress.com/2014/04/screen-shot-2014-04-28-at-01-57-43.png"><img src="%7B%7B%20site.baseurl%20%7D%7D/assets/screen-shot-2014-04-28-at-01-57-43.png?w=580" alt="Screen Shot 2014-04-28 at
01.57.43" /></a></p>

<p>After clicking in <em>Configure</em> the Manager will finish the configuration
of the Controller Cluster and will go back the previous screen where we
can see the new cluster we have just added to the Manager.</p>

<p><a href="http://jreypo.files.wordpress.com/2014/04/screen-shot-2014-04-28-at-02-01-44.png"><img src="%7B%7B%20site.baseurl%20%7D%7D/assets/screen-shot-2014-04-28-at-02-01-44.png?w=580" alt="Screen Shot 2014-04-28 at
02.01.44" /></a></p>

<p>In the next post we will see how to configure NSX Transport and Logical
network elements. As always comments are welcome.</p>

<p>Juanma.</p>

      <hr />
      <footer role="contentinfo">
        <div class="social-share">
  <h4>Share on</h4>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=/cloud/linux/networking/openstack/vmware/deploying-openstack-with-kvm-and-vmware-nsx-part-1-nsx-overview-and-initial-setup/" class="twitter" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=/cloud/linux/networking/openstack/vmware/deploying-openstack-with-kvm-and-vmware-nsx-part-1-nsx-overview-and-initial-setup/" class="facebook" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=/cloud/linux/networking/openstack/vmware/deploying-openstack-with-kvm-and-vmware-nsx-part-1-nsx-overview-and-initial-setup/" class="google-plus" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
  </ul>
</div><!-- /.social-share -->
        <p class="byline"><strong>Deploying OpenStack with KVM and VMware NSX - Part 1: NSX overview and initial setup</strong> was published on <time datetime="2014-04-29T23:28:40+02:00">April 29, 2014</time>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="/openstack/vmware/upgrading-vmware-integrated-openstack/" title="Upgrading VMware Integrated OpenStack">Upgrading VMware Integrated OpenStack</a></li>
    
      <li><a href="/cloud/openstack/give-me-openstack-and-give-me-liberty/" title="Give me OpenStack and give me Liberty!">Give me OpenStack and give me Liberty!</a></li>
    
      <li><a href="/linux/red%20hat/sysadmin/dnf-the-new-fedora-package-manager/" title="DNF, the new Fedora package manager">DNF, the new Fedora package manager</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  
  <footer>
    

<span>&copy; 2015 Juan Manuel Rey. <br> Hosted on <a href="https://pages.github.com" rel="nofollow" target="_blank">GitHub Pages</a> and powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>




</body>
</html>
