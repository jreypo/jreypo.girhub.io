<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>How to patch your VIO environment &#8211; Juanma's Blog</title>
<meta name="description" content="VMware
has released the first patch for VMware Integrated OpenStack. This
patch release comes with improvements around the installer, Keystone
service and fixes some security issues. Review the Release
Notes
to get full details of what is included.

">
<meta name="keywords" content="Cloud, OpenStack, SDDC, VIO, VMware, VMware Integrated OpenStack">

  

<!-- Twitter Cards -->
<meta name="twitter:title" content="How to patch your VIO environment">
<meta name="twitter:description" content="VMware
has released the first patch for VMware Integrated OpenStack. This
patch release comes with improvements around the installer, Keystone
service and fixes some security issues. Review the Release
Notes
to get full details of what is included.

">
<meta name="twitter:site" content="@jreypo">


<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/default-thumb.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="How to patch your VIO environment">
<meta property="og:description" content="VMware
has released the first patch for VMware Integrated OpenStack. This
patch release comes with improvements around the installer, Keystone
service and fixes some security issues. Review the Release
Notes
to get full details of what is included.

">
<meta property="og:url" content="/openstack/vmware/how-to-patch-your-vio-environment/">
<meta property="og:site_name" content="Juanma's Blog">

<meta property="og:image" content="/images/default-thumb.png">






<link rel="canonical" href="/openstack/vmware/how-to-patch-your-vio-environment/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Juanma's Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="/assets/js/vendor/html5shiv.min.js"></script>
	<script src="/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="/">Juanma's Blog</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				    
				        
				    
				    <li><a href="/about/" >About</a></li>
				
				    
				        
				    
				    <li><a href="/posts/" >Posts</a></li>
				
				    
				        
				    
				    <li><a href="/vmware-hp-links/" >HP Resources for VMware</a></li>
				
				    
				        
				    
				    <li><a href="/tags/" >Tags</a></li>
				
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main">
  <div class="article-author-side">
    
  

<div itemscope itemtype="http://schema.org/Person">


	<img src="/images/" class="bio-photo" alt=" bio photo">


  <h3 itemprop="name"></h3>
  <p></p>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
</div>

  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="/openstack/vmware/how-to-patch-your-vio-environment/" rel="bookmark" title="How to patch your VIO environment">How to patch your VIO environment</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p><a href="https://jreypo.files.wordpress.com/2015/03/teamopenstackvmware.png"><img src="%7B%7B%20site.baseurl%20%7D%7D/assets/teamopenstackvmware.png?w=300" alt="Team+OpenStack+@+VMware" /></a><a href="http://www.vmware.com">VMware</a>
has released the first patch for <strong>VMware Integrated OpenStack</strong>. This
patch release comes with improvements around the installer, Keystone
service and fixes some security issues. Review the <a href="https://www.vmware.com/support/integrated-openstack/doc/vmware-integrated-openstack-101-release-notes.html">Release
Notes</a>
to get full details of what is included.</p>

<p>After the patch was released I thought it was a perfect time to upgrade
my VIO lab, document the procedure and publish it, so without further
ado lets get some patches installed!</p>

<h3 id="step-1---upload-and-install-the-patch">Step 1 - Upload and install the patch</h3>

<p>Get the patch from <a href="https://my.vmware.com/group/vmware/info?slug=datacenter_cloud_infrastructure/vmware_integrated_openstack/1_0">VIO product download
page</a>,
of course you need to have the proper rights to do it, the patch is a
Debian package in <code>deb</code> format. There are some caveats here, the way to
upload and install the patch is using vSphere Web Client from <strong>Manage
-&gt;  Updates</strong>.</p>

<p><a href="https://jreypo.files.wordpress.com/2015/04/screen-shot-2015-04-28-at-23-38-55.png"><img src="%7B%7B%20site.baseurl%20%7D%7D/assets/screen-shot-2015-04-28-at-23-38-55.png?w=580" alt="Screen Shot 2015-04-28 at
23.38.55" /></a></p>

<p>However after the immediate release of the patch an issue was identified
using this method and currently until it is solved the safest way to do
it is using the CLI. Use your favorite SCP/SFTP client to upload the
patch to VIO Management Server as <code>viouser</code>.</p>

<p>Add the patch using <code>viopatch</code> command.</p>

<pre><code>viouser@vio-manager:~$ sudo viopatch add -l /home/viouser/vio-patch-1_1.0.1.2668568_all.deb
[sudo] password for viouser:
/home/viouser/vio-patch-1_1.0.1.2668568_all.deb patch has been added.
viouser@vio-manager:~$
</code></pre>

<p>List the patches to verify that has been added.</p>

<pre><code>viouser@vio-manager:~$ viopatch list
Name         Version        Type    Installed
-----------  -------------  ------  -----------
vio-patch-1  1.0.1.2668568  infra   No

viouser@vio-manager:~$
</code></pre>

<p>Install the patch, before installing verify that VIO Cluster is in
Running status or the update will fail. The patch can also be applied
before deploying OpenStack.</p>

<pre><code>viouser@vio-manager:~$ sudo viopatch install --patch vio-patch-1 --version 1.0.1.2668568
[sudo] password for viouser:
Installing patch vio-patch-1 version 1.0.1.2668568
done
Installation complete for patch vio-patch-1 version 1.0.1.2668568
viouser@vio-manager:~$
</code></pre>

<h3 id="step-2---verify-the-installation">Step 2 - Verify the installation</h3>

<p>Log out and log in back in vSphere Web Client. The new version and build
number can be verified in the Summary tab.</p>

<p><a href="https://jreypo.files.wordpress.com/2015/04/screen-shot-2015-04-29-at-01-09-21.png"><img src="%7B%7B%20site.baseurl%20%7D%7D/assets/screen-shot-2015-04-29-at-01-09-21.png?w=580" alt="Screen Shot 2015-04-29 at
01.09.21" /></a></p>

<p>Also in <strong>Manage -&gt; Updates</strong> the newly installed patch can be seen
in more detail.</p>

<p><a href="https://jreypo.files.wordpress.com/2015/04/screen-shot-2015-04-29-at-01-09-53.png"><img src="%7B%7B%20site.baseurl%20%7D%7D/assets/screen-shot-2015-04-29-at-01-09-53.png?w=580" alt="Screen Shot 2015-04-29 at
01.09.53" /></a></p>

<p>Ans this is it. Anyone that has ever to endure the pain of patching an
OpenStack installation, either lab or production environment, I am sure
that will appreciate how clean and easy is the process in VIO.</p>

<p>Juanma.</p>

      <hr />
      <footer role="contentinfo">
        <div class="social-share">
  <h4>Share on</h4>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=/openstack/vmware/how-to-patch-your-vio-environment/" class="twitter" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=/openstack/vmware/how-to-patch-your-vio-environment/" class="facebook" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=/openstack/vmware/how-to-patch-your-vio-environment/" class="google-plus" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
  </ul>
</div><!-- /.social-share -->
        <p class="byline"><strong>How to patch your VIO environment</strong> was published on <time datetime="2015-04-29T00:20:47+02:00">April 29, 2015</time>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="/openstack/vmware/upgrading-vmware-integrated-openstack/" title="Upgrading VMware Integrated OpenStack">Upgrading VMware Integrated OpenStack</a></li>
    
      <li><a href="/cloud/openstack/give-me-openstack-and-give-me-liberty/" title="Give me OpenStack and give me Liberty!">Give me OpenStack and give me Liberty!</a></li>
    
      <li><a href="/linux/red%20hat/sysadmin/dnf-the-new-fedora-package-manager/" title="DNF, the new Fedora package manager">DNF, the new Fedora package manager</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  
  <footer>
    

<span>&copy; 2015 Juan Manuel Rey. <br> Hosted on <a href="https://pages.github.com" rel="nofollow" target="_blank">GitHub Pages</a> and powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>




</body>
</html>
