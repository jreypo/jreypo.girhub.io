<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
<title type="text">Juanma's Blog</title>
<generator uri="https://github.com/jekyll/jekyll">Jekyll</generator>
<link rel="self" type="application/atom+xml" href="/feed.xml" />
<link rel="alternate" type="text/html" href="" />
<updated>2015-12-01T00:32:16+01:00</updated>
<id>/</id>
<author>
  <name>Juan Manuel Rey</name>
  <uri>/</uri>
  <email>juanmanuel.reyportal@gmail.com</email>
</author>


  

<entry>
  <title type="html"><![CDATA[OpenBSD and VirtualBox]]></title>
  <link rel="alternate" type="text/html" href="/bsd/virtualization/openbsd-and-virtualbox/" />
  <id>/bsd/virtualization/openbsd-and-virtualbox</id>
  <published>2009-12-14T16:06:38+01:00</published>
  <updated>2009-12-14T16:06:38+01:00</updated>
  <author>
    <name>Juan Manuel Rey</name>
    <uri></uri>
    <email>Juan Manuel Rey</email>
  </author>
  <content type="html">
    &lt;p&gt;I’ve been using &lt;strong&gt;OpenBSD&lt;/strong&gt; since the 3.0 version as desktop, in my home servers and even in production systems, some time ago I decided to virtualize my OpenBSD infrastructure first with VMware Server and later with VirtualBox (both of them with Linux as the host system) which is much more powerfull; but when I started to use VirtualBox a year or so ago I discovered that installing OpenBSD in VirtualBox can be a pain in the ass.&lt;/p&gt;

&lt;p&gt;The installation went smoothly until I got the following error:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;uid 0 on /: file system full
/: write failed, file system is full
Segmentation fault&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Sometimes the installation started despite of the error but it did not finish correctly, others  the installation process hung up and had to forcibly shutdown the VM or simply the installation aborted. I tried several times and got some weird errors and the previous error not always at the same step.&lt;/p&gt;

&lt;p&gt;I did a small research and found a couple of solutions for this issue. The first solution was to enable VT-x/AMD-V virtualization extensions, but my processor didn’t have those extensions so this solution didn’t solve my problem.&lt;/p&gt;

&lt;p&gt;The second workaround finally allowed me to install OpenBSD without errors. The virtual machine has to be started from the command line with the &lt;code&gt;-norawr0&lt;/code&gt; option:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;jmr@wopr:~# VirtualBox -startvm &amp;lt;uid_or_name_of_the_vm&amp;gt; -norawr0

jmr@wopr:~# VBoxSDL -norawr0 -vm &amp;lt;uid_or_name_of_the_vm&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;One final note, with OpenBSD 4.6 I didn’t get the error, even with a processor without the VT-x extensions.&lt;/p&gt;

&lt;p&gt;Juanma.&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/bsd/virtualization/openbsd-and-virtualbox/&quot;&gt;OpenBSD and VirtualBox&lt;/a&gt; was originally published by Juan Manuel Rey at &lt;a href=&quot;&quot;&gt;Juanma's Blog&lt;/a&gt; on December 14, 2009.&lt;/p&gt;
  </content>
</entry>


  

<entry>
  <title type="html"><![CDATA[Hardening dilemma]]></title>
  <link rel="alternate" type="text/html" href="/hp-ux/security/hardening-dilemma/" />
  <id>/hp-ux/security/hardening-dilemma</id>
  <published>2009-12-14T14:28:11+01:00</published>
  <updated>2009-12-14T14:28:11+01:00</updated>
  <author>
    <name>Juan Manuel Rey</name>
    <uri></uri>
    <email>Juan Manuel Rey</email>
  </author>
  <content type="html">
    &lt;p&gt;When you have to secure a system you probably have come to the dilemma ‘Which method is the best? Bastille or manual hardening?’ at least I did it.&lt;/p&gt;

&lt;p&gt;Bastille is a very good option, it will ease the process and you can even use &lt;strong&gt;Install Time Security&lt;/strong&gt; mode during the installation of new systems or use the configuration files in an already running system (the files are in &lt;code&gt;/etc/opt/sec_mgmt/bastille/configs/defaults&lt;/code&gt;), but some time ago I decide that it didn’t suit my needs since I like to maintain the control of the whole process.&lt;/p&gt;

&lt;p&gt;If you really want to be sure that every corner in your systems is properly secured and monitored it is worthwhile to spend some time studying your severs and the services running and its dependencies.
After the compilation of all that data you can develop a generic security policy and use it as starting-point to customize the security of every server.&lt;/p&gt;

&lt;p&gt;In the end of course this is up to you, you must choose whatever suits better your needs.&lt;/p&gt;

&lt;p&gt;Juanma.&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/hp-ux/security/hardening-dilemma/&quot;&gt;Hardening dilemma&lt;/a&gt; was originally published by Juan Manuel Rey at &lt;a href=&quot;&quot;&gt;Juanma's Blog&lt;/a&gt; on December 14, 2009.&lt;/p&gt;
  </content>
</entry>


  

<entry>
  <title type="html"><![CDATA[HP-UX security resources]]></title>
  <link rel="alternate" type="text/html" href="/hp-ux/security/hp-ux-security-resources/" />
  <id>/hp-ux/security/hp-ux-security-resources</id>
  <published>2009-12-10T14:04:04+01:00</published>
  <updated>2009-12-10T14:04:04+01:00</updated>
  <author>
    <name>Juan Manuel Rey</name>
    <uri></uri>
    <email>Juan Manuel Rey</email>
  </author>
  <content type="html">
    &lt;p&gt;Recently a friend asked me about HP-UX security and where to find useful information. We have to admit it, there are not many resources out there about HP-UX security and the great majority of them are obsolete since they are about HP-UX 10.20 or even 9.x. Let’s take a look…&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://docs.hp.com/&quot;&gt;HP Docs&lt;/a&gt; is the first place to look for information, there you will find a lot of docs regarding HP-UX security, &lt;a href=&quot;http://docs.hp.com/en/internet.html#IPFilter&quot;&gt;IPFilter&lt;/a&gt;, &lt;a href=&quot;http://docs.hp.com/en/5992-5099A/index.html&quot;&gt;HP-UX Bastille&lt;/a&gt; and other products and manuals concerning &lt;a href=&quot;http://docs.hp.com/en/internet.html#IPFilter&quot;&gt;security&lt;/a&gt;. Following is a reference of useful docs that can be found on this site:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The most up to date document is &lt;a href=&quot;http://docs.hp.com/en/5992-6416/5992-6416.pdf&quot;&gt;&lt;strong&gt;HP-UX System Administrator’s Guide: Security Management&lt;/strong&gt;&lt;/a&gt;, this is the main reference for any HP-UX admin. It covers HP-UX 11iv3 and is filled with detailed information on how-to protect your system, how is the security implemented in HP-UX and an appendix with references to other security products of HP that can be used to hardening your systems.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://docs.hp.com/en/5991-8678/index.html&quot;&gt;HP-UX 11i Security Containment Administrator’s Guide&lt;/a&gt; HP-UX 11.23&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://docs.hp.com/en/B2355-90121/index.html&quot;&gt;HP9000 Computer Systems: Administering Your HP-UX Trusted System&lt;/a&gt;. Useful information concerning older systems.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://docs.hp.com/en/B2355-90672/index.html&quot;&gt;HP-UX System Administration Tasks: HP9000&lt;/a&gt;. It has full chapter about system security, useful for older systems.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://docs.hp.com/en/B2355-90950/B2355-90950.pdf&quot;&gt;Managing Systems and Workgroups: A Guide for HP-UX System Administrators&lt;/a&gt;. HP-UX 11iv1 and 11iv2 information.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Second in our small list is the yet classic but still very useful Kevin Steves’ great document “&lt;a href=&quot;http://www.windowsecurity.com/whitepapers/Building_a_Bastion_Host_Using_HPUX_11.html&quot;&gt;&lt;strong&gt;Building a Bastion Host Using HP-UX 11&lt;/strong&gt;&lt;/a&gt;”. This is without any doubt (at least for me) the best document about HP-UX hardening ever done. Although it was written seven years ago it still applies to a wide variety of areas.&lt;/p&gt;

&lt;p&gt;In the Center fo Information Security you will find the “&lt;a href=&quot;http://www.cisecurity.org/bench_hpux.html&quot;&gt;&lt;strong&gt;CIS Level 1 Benchmark for HP-UX&lt;/strong&gt;&lt;/a&gt;”. These benchmarks are a compilation of security configurations, settings and best practices. Current version applies to all three versions of HP-UX 11i so it is worthwhile to read them. It will ask for registration prior to allow you to download the docs.&lt;/p&gt;

&lt;p&gt;In the ITRC Forums there is a &lt;a href=&quot;http://forums11.itrc.hp.com/service/forums/categoryhome.do?categoryId=155&quot;&gt;HP-UX Security&lt;/a&gt; forum, it is not the most active forum in ITRC but if you post a question you will find that the people is willing to help you.&lt;/p&gt;

&lt;p&gt;HP Security Bulletins. Through ITRC you can subscribe to several digests and bulletins, including the HP-UX Security and HP-UX 11.x patches.&lt;/p&gt;

&lt;p&gt;Security specific websites. There are a lot of sites and portals focused in security, and in all of them you can find papers about Unix security hardening in general and even some HP-UX specific papers, but as I said at the beginning most of them are obsolete. I usually read &lt;a href=&quot;http://www.securityfocus.com/&quot;&gt;Security Focus&lt;/a&gt; but there are many others just do a search in Google and you will find them.&lt;/p&gt;

&lt;p&gt;Security mailing lists. Probably the most known security mailing list is &lt;a href=&quot;http://www.securityfocus.com/archive/1&quot;&gt;Bugtraq&lt;/a&gt; but there are others, they talk about HP-UX security bugs from time to time.&lt;/p&gt;

&lt;p&gt;And this is the end… well not really. These are the resources I use in my everyday work, if any of you know about other resources please comment them.&lt;/p&gt;

&lt;p&gt;See you next time.&lt;/p&gt;

&lt;p&gt;Juanma.&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/hp-ux/security/hp-ux-security-resources/&quot;&gt;HP-UX security resources&lt;/a&gt; was originally published by Juan Manuel Rey at &lt;a href=&quot;&quot;&gt;Juanma's Blog&lt;/a&gt; on December 10, 2009.&lt;/p&gt;
  </content>
</entry>


  

<entry>
  <title type="html"><![CDATA[Installing a new client with Ignite]]></title>
  <link rel="alternate" type="text/html" href="/hp-ux/installing-a-new-client-with-ignite/" />
  <id>/hp-ux/installing-a-new-client-with-ignite</id>
  <published>2009-12-09T13:50:46+01:00</published>
  <updated>2009-12-09T13:50:46+01:00</updated>
  <author>
    <name>Juan Manuel Rey</name>
    <uri></uri>
    <email>Juan Manuel Rey</email>
  </author>
  <content type="html">
    &lt;p&gt;Along my career as HP-UX administrator one of the most useful tools has been &lt;strong&gt;Ignite-UX&lt;/strong&gt;. This is, IMHO, the most powerful backup/recovery/deployment tool above any other currently present in the Unix OS family (Solaris JumpStart, RH Kickstart, AIX NIM…).&lt;/p&gt;

&lt;p&gt;It allows you to deploy several clients simultaneously, create install images (golden images), perform OS backups for disaster recovery, etc. In this post I will show how to manually set-up a new Itanium server with Ignite-UX from the “ignited image” of another server. The example shows an Itanium partionable system, the procedure for a non-partionable client is slightly different and I will talk about it in a future post.&lt;/p&gt;

&lt;p&gt;In the client:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Boot your new server into the EFI Shell and with the &lt;code&gt;lanaddress&lt;/code&gt; command search for our MAC:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Shell&amp;gt; lanaddress

LAN Address Information

 LAN Address        Path
 -----------------  ----------------------------------------
 *Mac(XXXXXXXXXXXX)  Acpi(HWP0002,PNP0A03,100)/Pci(1|0)/Mac(XXXXXXXXXXXX)
 Mac(YYYYYYYYYYYY)  Acpi(HWP0002,PNP0A03,100)/Pci(1|1)/Mac(YYYYYYYYYYYY)
 Mac(000000000000)  Acpi(HWP0002,PNP0A03,200)/Pci(2|0)/Mac(000000000000)
 Mac(00AA00AA00AA)  Acpi(HWP0002,PNP0A03,200)/Pci(2|1)/Mac(00AA00AA00AA)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Create a new Direct Boot Profile:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Shell&amp;gt; dbprofile -dn newserver -sip 10.10.10.2 -cip 10.10.10.35 -gip 10.31.4.1 -m 255.255.255.0 -b &amp;quot;/opt/ignite/boot/nbp.efi&amp;quot;
Creating profile newserver&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code&gt;dbprofile&lt;/code&gt; command is exclusive for partionable servers:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;code&gt;-dn&lt;/code&gt;  Name of the new profile&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;-sip&lt;/code&gt; IP address of the Ignite-UX server.&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;-cip&lt;/code&gt; Address of the client.&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;-gip&lt;/code&gt; Gateway.&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;-m&lt;/code&gt; Network Mask.&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;-b&lt;/code&gt; Boot file name.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;In the Ignite server:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Create the directory &lt;code&gt;/var/opt/ignite/clients/&amp;lt;0xMAC_of_the_client&amp;gt;&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[ignite]/var/opt/ignite/clients # mkdir 0xXXXXXXXXXXXX&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Put bin:sys as owner:group of the new directory.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[ignite]/var/opt/ignite/clients # chown bin:sys 0xXXXXXXXXXXXX&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Create a link &lt;code&gt;&amp;lt;client&amp;gt; -&amp;gt; &amp;lt;0xMAC_of_the_client&amp;gt;&lt;/code&gt; in the same location.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[ignite]/var/opt/ignite/clients # ln -s 0xXXXXXXXXXXXX newserver&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Set &lt;code&gt;bin:bin&lt;/code&gt; as owner of the link.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[ignite]/var/opt/ignite/clients # chown -h bin:bin newserver&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Copy the data from the “source client” to the “target client”.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[ignite]/var/opt/ignite/clients/source_server # find CINDEX recovery | cpio -pdvma ../newserver
../newserver/CINDEX
../newserver/recovery/client_status
../newserver/recovery/2009-03-20,10:41/recovery.log
../newserver/recovery/2009-03-20,10:41/archive_content
../newserver/recovery/2009-03-20,10:41/system_cfg
../newserver/recovery/2009-03-20,10:41/control_cfg
../newserver/recovery/2009-03-20,10:41/flist
../newserver/recovery/2009-03-20,10:41/archive_cfg
../newserver/recovery/2009-03-20,10:41/manifest
../newserver/recovery/defaults
../newserver/recovery/archive_content
../newserver/recovery/2009-04-07,10:50/recovery.log
../newserver/recovery/2009-04-07,10:50/archive_content
../newserver/recovery/2009-04-07,10:50/system_cfg
../newserver/recovery/2009-04-07,10:50/control_cfg
../newserver/recovery/2009-04-07,10:50/flist
../newserver/recovery/2009-04-07,10:50/archive_cfg
../newserver/recovery/2009-04-07,10:50/manifest
../newserver/recovery/2009-04-07,11:50/recovery.log
../newserver/recovery/2009-04-07,11:50/archive_content
../newserver/recovery/2009-04-07,11:50/system_cfg
../newserver/recovery/2009-04-07,11:50/control_cfg
../newserver/recovery/2009-04-07,11:50/flist
../newserver/recovery/2009-04-07,11:50/archive_cfg
../newserver/recovery/2009-04-07,11:50/manifest
65202 blocks&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now we have to share the new directory via NFS. In HP-UX 11.31 is quite simple, add the corresponding line in &lt;code&gt;/etc/dfs/dfstab&lt;/code&gt; and execute the &lt;code&gt;shareall -F nfs&lt;/code&gt; command.&lt;/p&gt;

&lt;p&gt;In our example server it will shows like this:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[ignite]/etc/dfs # cat dfstab
#       place share(1M) commands here for automatic execution #       on entering init state 3.
#
#       share [-F fstype] [ -o options] [-d &amp;quot;&amp;lt;text&amp;gt;&amp;quot;] &amp;lt;pathname&amp;gt;
#       .e.g,
#       share  -F nfs  -o rw=engineering  -d &amp;quot;home dirs&amp;quot;  /home
share -F nfs -o anon=2 /var/opt/ignite/clients
share -F nfs -o sec=sys,anon=2,rw=newserver.my.dom /var/opt/ignite/recovery/archives/newserver&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If the newserver hostname is not included in your DNS you have to add it to the &lt;code&gt;/etc/hosts&lt;/code&gt; of the Ignite server.&lt;/p&gt;

&lt;p&gt;The next step is in the client EFI Shell, we boot it with &lt;code&gt;lanboot&lt;/code&gt; command.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Shell&amp;gt; lanboot select -dn newserver
 01 Acpi(HWP0002,PNP0A03,100)/Pci(1|0)/Mac(XXXXXXXXXXXX)
02 Acpi(HWP0002,PNP0A03,100)/Pci(1|1)/Mac(YYYYYYYYYYYY)
03 Acpi(HWP0002,PNP0A03,200)/Pci(2|0)/Mac(000000000000)
04 Acpi(HWP0002,PNP0A03,200)/Pci(2|1)/Mac(00AA00AA00AA)
Select Desired LAN: 01
Selected Acpi(HWP0002,PNP0A03,100)/Pci(1|0)/Mac(XXXXXXXXXXXX)

Client MAC Address: XXXXXXXXXXXX
Client IP Address: 10.10.10.35
Subnet Mask: 255.255.255.0
BOOTP Server IP Address: 10.10.10.2
DHCP Server IP Address: 0.0.0.0
Boot file name: /opt/ignite/boot/nbp.efi

Retrieving File Size.
Retrieving File (TFTP).
@(#) HP-UX IA64 Network Bootstrap Program Revision 1.1
Downloading HPUX bootloader
Starting HPUX bootloader
Obtaining size of fpswa.efi   (328192 bytes)
Downloading file  fpswa.efi   (328192 bytes)

(C) Copyright 1999-2008 Hewlett-Packard Development Company, L.P.
All rights reserved

HP-UX Boot Loader for IPF  --  Revision 2.037

Booting from Lan
Obtaining size of AUTO   (226 bytes)
Downloading file  AUTO   (226 bytes)
Obtaining size of AUTO   (226 bytes)
Downloading file  AUTO   (226 bytes)

Obtaining size of AUTO   (226 bytes)
Downloading file  AUTO   (226 bytes)
 1.  target OS is B.11.23 IA
 2.  target OS is B.11.31 IA
 3.  Exit Boot Loader

Choose an operating system to install that your hardware supports:2
Obtaining size of AUTO   (226 bytes)
Downloading file  AUTO   (226 bytes)
Obtaining size of Rel_B.11.31/IINSTALL   (51685533 bytes)
Downloading file  Rel_B.11.31/IINSTALL   (51685533 bytes)
&amp;gt; System Memory = 12257 MB
loading section 0
.................................................................................................... (complete)
loading section 1
...................... (complete)
loading symbol table
Obtaining size of Rel_B.11.31/IINSTALLFS   (61341696 bytes)
Downloading file  Rel_B.11.31/IINSTALLFS   (61341696 bytes)
loading ram disk file (Rel_B.11.31/IINSTALLFS).
.....................................................................................................................
 (complete)

================================================================================
WARNING: Multiple console output devices are configured. If this message
remains on the screen for more than a few minutes, then this is not the
device in use by HP-UX as the console output device. If you would like this
device to be the one used by HP-UX as the console output device, reboot and
use the EFI boot manager or the EFI &amp;#39;conconfig&amp;#39; command to select this device
and deconfigure the others.
================================================================================

Launching Rel_B.11.31/IINSTALL
SIZE: Text:50974K + Data:11077K + BSS:25419K = Total:87471K
Console is on Serial Device - via PCDP
Booting kernel...

krs_read_mfs: Error 5 opening MFS.
Loaded ACPI revision 2.0 tables.
krs_read_mfs: Error 5 opening MFS.

Memory Class Setup
-------------------------------------------------------------------------
Class     Physmem              Lockmem              Swapmem
-------------------------------------------------------------------------
System :  11659 MB             11659 MB             11659 MB
Kernel :  11659 MB             11659 MB             11659 MB
User   :  10803 MB             9577 MB              9615 MB
-------------------------------------------------------------------------

ktracer is off until requested.
Installing Socket Protocol families AF_INET and AF_INET6
Kernel EVM initialized
sec_init(): kernel RPC authentication/security initialization.
secgss_init():  kernel RPCSEC_GSS security initialization.
rpc_init(): kernel RPC initialization.
rpcmod_install(): kernel RPC STREAMS module &amp;quot;rpcmod&amp;quot; installation. ...(driver_install)
NOTICE: nfs_client_pv3_install(): nfs3 File system was registered at index 10.
NOTICE: nfs_client_pv4_install(): nfs4 File system was registered at index 11.

 System Console is on the Built-In Serial Interface
igelan2: INITIALIZING HP PCI-X 1000Mbps Dual-port Built-in at hardware path 0/2/2/0
igelan0: INITIALIZING HP PCI-X 1000Mbps Dual-port Built-in at hardware path 0/1/1/0
igelan1: INITIALIZING HP PCI-X 1000Mbps Dual-port Built-in at hardware path 0/1/1/1
igelan3: INITIALIZING HP PCI-X 1000Mbps Dual-port Built-in at hardware path 0/2/2/1
AF_INET socket/streams output daemon running, pid 35
afinet_prelink: module installed
Starting the STREAMS daemons-phase 1
 Swap device table:  (start &amp;amp; size given in 512-byte blocks)
 entry 0 - auto-configured on root device; ignored - no room
WARNING: No swap device configured, so dump cannot be defaulted to primary swap.
WARNING: No dump devices are configured.  Dump is disabled.
Create STCP device files
Starting the STREAMS daemons-phase 2
 $Revision: vmunix:    B.11.31_LR FLAVOR=perf nfsauth: lookupname: 2

Memory Information:
 physical page size = 4096 bytes, logical page size = 4096 bytes
 Physical: 12551908 Kbytes, lockable: 9810760 Kbytes, available: 10807748 Kbytes

 * Preparing to execute init...
=======  04/07/09 06:33:05 EDT  HP-UX Installation Initialization.
 @(#)Ignite-UX Revision C.7.8.201
 @(#)ignite/launch (opt) Revision:
 /branches/IUX_RA0903/ignite/src@76987 Last Modified: 2009-02-05
 15:45:55 -0700 (Thu, 05 Feb 2009)
 * Configuring RAM filesystems...
 * No SAS disk/LUN swaps required, already in physical location order.
 * Scanning system for IO devices...
 * Boot device is: 0/1/1/0
NOTE:    Primary path not currently set to an existing disk device.
 * Setting keyboard language.

A USB interface has been detected on this system.
In order to use a keyboard on this interface, you must specify
a language mapping which will be used by X windows and
the Internal Terminal Emulator (ITE).
The characters &amp;quot;1234567890&amp;quot; will appear as &amp;quot;!@#$^&amp;amp;*()&amp;quot;
on keyboards that use the shift key to type a number.
Your choice will be stored in the file /etc/kbdlang

 1) USB_PS2_DIN_Belgian                  2) USB_PS2_DIN_Belgian_Euro
 3) USB_PS2_DIN_Danish                   4) USB_PS2_DIN_Danish_Euro
 5) USB_PS2_DIN_Euro_Spanish             6) USB_PS2_DIN_Euro_Spanish_Euro
 7) USB_PS2_DIN_French                   8) USB_PS2_DIN_French_Euro
 9) USB_PS2_DIN_German                  10) USB_PS2_DIN_German_Euro
11) USB_PS2_DIN_Italian                 12) USB_PS2_DIN_Italian_Euro
13) USB_PS2_DIN_JIS_109                 14) USB_PS2_DIN_Korean
15) USB_PS2_DIN_Norwegian               16) USB_PS2_DIN_Norwegian_Euro
17) USB_PS2_DIN_S_Chinese               18) USB_PS2_DIN_Swedish
19) USB_PS2_DIN_Swedish_Euro            20) USB_PS2_DIN_Swiss_French2_Euro
21) USB_PS2_DIN_Swiss_German2           22) USB_PS2_DIN_Swiss_German2_Euro
23) USB_PS2_DIN_T_Chinese               24) USB_PS2_DIN_UK_English
25) USB_PS2_DIN_UK_English_Euro         26) USB_PS2_DIN_US_English
27) USB_PS2_DIN_US_English_Euro

Enter the number of the language you want:6

You have selected the keyboard language USB_PS2_DIN_Euro_Spanish_Euro.
Please confirm your choice by pressing RETURN or enter a new number:
---------------------------------------------------------------------------------

 Welcome to Ignite-UX!

 Use the &amp;lt;tab&amp;gt; key to navigate between fields, and the arrow keys
 within fields.  Use the &amp;lt;return/enter&amp;gt; key to select an item.
 Use the &amp;lt;return/enter&amp;gt; or &amp;lt;space-bar&amp;gt; to pop-up a choices list.  If the
 menus are not clear, select the &amp;quot;Help&amp;quot; item for more information.

 Hardware Summary:         System Model: ia64 hp BL860c
 +----------------------+---------------+--------------------+[ Scan Again  ]
 | Disks: 1  (  136.0GB)| Floppies: 0   | LAN cards:   4     |
 | CD/DVDs:        0    | Tapes:    0   | Memory:    12257Mb |
 | Graphics Ports: 1    | IO Buses: 5   | CPUs:        4     |[ H/W Details ]
 +----------------------+---------------+--------------------+
                   [      Install HP-UX       ]

               [   Run an Expert Recovery Shell   ]

                   [    Advanced Options      ]

      [  Reboot  ]                              [  Help  ]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now select &lt;code&gt;&quot;Install HP-UX&quot;&lt;/code&gt; option. And the following screen appears where we select the &lt;code&gt;&quot;OK&quot;&lt;/code&gt; option:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;User Interface and Media Options

This screen lets you pick from options that will determine if an
Ignite-UX server is used, and your user interface preference.

User Interface Options:
[   ]  Guided Installation   (very basic installs - deprecated mode)
[ * ]  Advanced Installation (recommended for disk and filesystem management)
[   ]  No user interface - setup basic networking, use defaults and go
[   ]  Remote graphical interface running on the Ignite-UX server

Hint: If you need to make LVM size changes, or want to set the
final networking parameters during the install, you will
need to use the Advanced mode (or remote graphical interface).

[   OK   ]                  [ Cancel ]                         [  Help  ]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;In the next screen we select the corresponding lan interface:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;LAN Interface Selection
&lt;/code&gt;&lt;/pre&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;More than one network interface was detected on the system.  You
 will need to select the interface to enable.  Only one interface
 can be enabled, and it must be the one connected to the network
 that can be used in contacting the install and/or SD servers.

 Use the &amp;lt;tab&amp;gt; and/or arrow keys to move to the desired LAN device
 to enable, then press &amp;lt;Return&amp;gt;.

 HW Path    Interface   Station Address  Description
 ----------------------------------------------------------

 [ 0/1/1/0     lan0     0x001E0BFCEE94   HP_PCI-X_1000Mbps_Dual-port_Bu ]

 [ 0/1/1/1     lan1     0x001E0BFCEE95   HP_PCI-X_1000Mbps_Dual-port_Bu ]

 [ 0/2/2/0     lan2     0x001E0BFCEE92   HP_PCI-X_1000Mbps_Dual-port_Bu ]

 [ 0/2/2/1     lan3     0x001E0BFCEE93   HP_PCI-X_1000Mbps_Dual-port_Bu ]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;It starts to search for the DHCP server, press Crtl-C to stop it. The install process prompts us for the target client IP and hostname.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;* Could not get DHCP information.  No host specific network defaults
 will be supplied.  (dhcpclient returned: 5)

--------------------------------------------------------------------------------------------
 NETWORK CONFIGURATION

 This system&amp;#39;s hostname: nfsux02

 Internet protocol address (eg. 15.2.56.1) of this host: 10.10.10.35

 Default gateway routing internet protocol address: 10.10.10.1

 The subnet mask (eg. 255.255.248.0 or 0xfffff800): 255.255.255.0

 IP address of the Ignite-UX server system: 10.10.10.2

 Is this networking information only temporary?  [ No  ]

 [   OK   ]                  [ Cancel ]                         [  Help  ]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The new client is added to the Ignite-UX server. It shows a warning screen informing that the disk device is not present in the system and it will substituted, this is normal since we are installing from an Ignite image of other server. Select &lt;code&gt;&quot;OK&quot;&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;----------------------------------------------------------------------------------------------
+                           /opt/ignite/bin/itool ()                           +
¦                                                                              ¦
¦ +-------++----------++--------++-------------++----------+                   ¦
¦ ¦ Basic ¦¦ Software ¦¦ System ¦¦ File System ¦¦ Advanced ¦                   ¦
¦ ¦+                                 Note                                  +--+¦
¦ ¦¦                                                                       ¦  ¦¦
¦ ¦¦ Message From: /opt/ignite/bin/itool ()                                ¦  ¦¦
¦ ¦¦                                                                       ¦  ¦¦
¦ ¦¦ NOTE: The disk with Device Specifier:                                 ¦  ¦¦
¦ ¦¦ &amp;quot;WWID=&amp;#39;0x600508e00000000009e9a4d0f3569501&amp;#39;                            ¦  ¦¦
¦ ¦¦ PHYS_LOC=&amp;#39;SAS:VOL019556F3D0A4E909:ENC01:BAYS01,02&amp;#39;                    ¦  ¦¦
¦ ¦¦ HW_PATH=&amp;#39;0/2/1/0.0x19556f3d0a4e909.0x0&amp;#39;&amp;quot; does not exist on the system ¦  ¦¦
¦ ¦¦ and is being substituted by the disk at:                              ¦  ¦¦
¦ ¦¦ &amp;quot;WWID=&amp;#39;0x600508e000000000a99ff86eef54f309&amp;#39;                            ¦  ¦¦
¦ ¦¦ PHYS_LOC=&amp;#39;SAS:VOL09F354EF6EF89FA9:ENC01:BAYS01,02&amp;#39;                    ¦  ¦¦
¦ ¦¦ HW_PATH=&amp;#39;0/2/1/0.0x9f354ef6ef89fa9.0x0&amp;#39;&amp;quot; (HP_IR_Volume)               ¦  ¦¦
¦ ¦¦                                                                       ¦ ]¦¦
¦ ¦¦-----------------------------------------------------------------------¦  ¦¦
¦ +¦                              [[ OK    ]]                              ¦--+¦
¦  +-----------------------------------------------------------------------+   ¦
¦------------------------------------------------------------------------------¦
¦ [  Go!   ]                       [ Cancel ]                       [  Help  ] ¦
+------------------------------------------------------------------------------+

------------------------------------------------------------------------------------------------&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;In the system tab enter the new hostname and IP address.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;------------------------------------------------------------------------------------------------
+                           /opt/ignite/bin/itool ()                           +
¦                                                                              ¦
¦ +-------++----------++--------++-------------++----------+                   ¦
¦ ¦ Basic ¦¦ Software ¦¦ System ¦¦ File System ¦¦ Advanced ¦                   ¦
¦ +--------------------/        \---------------------------------------------+¦
¦ ¦                                                                           ¦¦
¦ ¦  Final System Parameters:  [ Set parameters now   -&amp;gt;]                     ¦¦
¦ ¦                                                                           ¦¦
¦ ¦  +------------------------------------------------------------------+     ¦¦
¦ ¦  ¦  Hostname:  nfsux02                                              ¦     ¦¦
¦ ¦  ¦                                                                  ¦     ¦¦
¦ ¦  ¦IP Address:  10.31.4.70      Subnet Mask:  0xffffff00             ¦     ¦¦
¦ ¦  ¦                                                                  ¦     ¦¦
¦ ¦  ¦      Time:  12:42  Day:  07  Month:  [ April     -&amp;gt;] Year:  2009 ¦     ¦¦
¦ ¦  +------------------------------------------------------------------+     ¦¦
¦ ¦    [ Set Time Zone (MET-1METDST ]   [     Network Services...    ]        ¦¦
¦ ¦    [    Set Root Password...    ]   [ Additional Interface(s)... ]        ¦¦
¦ ¦                                                                           ¦¦
¦ +---------------------------------------------------------------------------+¦
¦      [ Show Summary...  ]                          [ Reset Configuration ]   ¦
¦------------------------------------------------------------------------------¦
¦ [  Go!   ]                       [ Cancel ]                       [  Help  ] ¦
+------------------------------------------------------------------------------+
------------------------------------------------------------------------------------------------&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now review the other parameters such swap space, filesystems, root password, etc. If everything is fine select &lt;code&gt;&quot;Go!&quot;&lt;/code&gt;, it will ask for confirmation:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;------------------------------------------------------------------------------------------------
++                             itool Confirmation                             ++
¦¦                                                                            ¦¦
¦¦ All data will be destroyed on the following disks:                         ¦¦
¦¦                                                                            ¦¦
¦¦   Addr                                             Disk Size(M             ¦¦
¦¦ +--------------------------------------------------------------+           ¦¦
¦¦ ¦ 0/2/1/0:SAS:VOL09F354EF6EF89FA9:ENC01:BAYS01,02  139236 MB   ^           ¦¦
¦¦ ¦                                                                          ¦¦
¦¦ ¦                                                              v           ¦¦
¦¦ +&amp;lt;                                                            &amp;gt;+           ¦¦
¦¦                                                                            ¦¦
¦¦ The results of the preinstall analysis are:                                ¦¦
¦¦                                                                            ¦¦
¦¦ +--------------------------------------------------------------+           ¦¦
¦¦ ¦ NOTE: Free space (10485760KB) in &amp;quot;/var/adm/crash&amp;quot; where      ^           ¦¦
¦¦ ¦ /var/adm/crash is located is less than system memory                     ¦¦
¦¦ ¦ (12551908KB). This should be enough space to capture at                  ¦¦
¦¦ ¦ least a single dump (and likely more than that if the dump               ¦¦
¦¦ ¦ is selective and/or compressed) in the event of a system                 ¦¦
¦¦ ¦ crash. Additional space may be required to uncompress the    v           ¦¦
¦¦ +--------------------------------------------------------------+           ¦¦
¦¦----------------------------------------------------------------------------¦¦
+¦ [  Go!   ]                      [ &amp;lt; Back ]                      [  Help  ] ¦+
 +----------------------------------------------------------------------------+
------------------------------------------------------------------------------------------------&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Select &lt;code&gt;&quot;Go!&quot;&lt;/code&gt; again and the installation will begin. The warning message about &lt;code&gt;/var/adm/crash&lt;/code&gt; filesystem is completely normal, the creation of that filesystem is performed after the installation of the Operative System, at least I use to.&lt;/p&gt;

&lt;p&gt;After a while if everything goes as expected you should have a new HP-UX server installed and ready, now it is time to review all the configuration parameters to check that nothing remains of the source client.&lt;/p&gt;

&lt;p&gt;Hope you find this post useful, in the future I will write about the &lt;code&gt;vg00&lt;/code&gt; mirroring and other post-install tasks.&lt;/p&gt;

&lt;p&gt;Juanma.&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/hp-ux/installing-a-new-client-with-ignite/&quot;&gt;Installing a new client with Ignite&lt;/a&gt; was originally published by Juan Manuel Rey at &lt;a href=&quot;&quot;&gt;Juanma's Blog&lt;/a&gt; on December 09, 2009.&lt;/p&gt;
  </content>
</entry>


  

<entry>
  <title type="html"><![CDATA[ioscan_fc2.sh]]></title>
  <link rel="alternate" type="text/html" href="/hp-ux/ioscan_fc2-sh/" />
  <id>/hp-ux/ioscan_fc2-sh</id>
  <published>2009-12-09T09:29:05+01:00</published>
  <updated>2009-12-09T09:29:05+01:00</updated>
  <author>
    <name>Juan Manuel Rey</name>
    <uri></uri>
    <email>Juan Manuel Rey</email>
  </author>
  <content type="html">
    &lt;p&gt;My first post is about one small, but great, piece of software I found some time ago in Olivier’s site &lt;a href=&quot;http://www.mayoxide.com/&quot;&gt;mayoxide&lt;/a&gt;. This script is named &lt;code&gt;ioscan_fc2.sh&lt;/code&gt; and you can find it in the software/toolbox area.&lt;/p&gt;

&lt;p&gt;Basically with this script you can obtain a small and comprehensive report of every agile disk device in a 11.31 system. You can put the script in verbose mode with the -v switch and obtain more detailed info, you can also query for a single disk (&lt;code&gt;-D&lt;/code&gt;) or a single LUN (&lt;code&gt;-H&lt;/code&gt;). A few examples will be better to show how it works.&lt;/p&gt;

&lt;p&gt;I find it very useful to set an alias for this script on the root’s profile of every server in which I have the script.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[root@ignite] / # alias ifc
alias ifc=&amp;#39;/usr/local/scripts/ioscan_fc2.sh&amp;#39;
[root@ignite] / #&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Show every disk:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[root@prod01] ~ # ifc | grep rdisk
/dev/rdisk/disk1     0x600508e0000000004911c7e407303805 ONLINE     64000/0xfa00/0x0     136     round_robin  8
/dev/rdisk/disk28    0x600508b40006cb7000006000094b0000 ONLINE     64000/0xfa00/0x2f    2       least_cmd_load 8
/dev/rdisk/disk29    0x600508b40006cb700000600009340000 ONLINE     64000/0xfa00/0x30    6       least_cmd_load 8
/dev/rdisk/disk30    0x600508b40006cb700000600009370000 ONLINE     64000/0xfa00/0x31    4       least_cmd_load 8
/dev/rdisk/disk31    0x600508b40006cb7000006000093e0000 ONLINE     64000/0xfa00/0x32    52      least_cmd_load 8
/dev/rdisk/disk32    0x600508b40006cb700000600009480000 ONLINE     64000/0xfa00/0x33    2       least_cmd_load 8
/dev/rdisk/disk37    0x600508b40006cb700000600009a90000 ONLINE     64000/0xfa00/0x34    4       least_cmd_load 8
/dev/rdisk/disk38    0x600508b40006cb700000600009a30000 ONLINE     64000/0xfa00/0x35    7       least_cmd_load 8
/dev/rdisk/disk43    0x600508b40006cb700000600009520000 ONLINE     64000/0xfa00/0x36    4       least_cmd_load 8
/dev/rdisk/disk52    0x600508b40006cb7000006000095a0000 ONLINE     64000/0xfa00/0x37    10      least_cmd_load 8
/dev/rdisk/disk53    0x600508b40006cb700000600009570000 ONLINE     64000/0xfa00/0x38    10      least_cmd_load 8
/dev/rdisk/disk60    0x600508b40006cb700000600009660000 ONLINE     64000/0xfa00/0x39    2       least_cmd_load 8
/dev/rdisk/disk61    0x600508b40006cb700000600009610000 ONLINE     64000/0xfa00/0x3a    3       least_cmd_load 8
/dev/rdisk/disk62    0x600508b40006cb700000600009690000 ONLINE     64000/0xfa00/0x3b    76      least_cmd_load 8
/dev/rdisk/disk77    0x600508b40006cb700000600009750000 ONLINE     64000/0xfa00/0x3c    1       least_cmd_load 8
/dev/rdisk/disk78    0x600508b40006cb700000600009700000 ONLINE     64000/0xfa00/0x3d    1       least_cmd_load 8
/dev/rdisk/disk95    0x600508b40006cb7000006000097d0000 ONLINE     64000/0xfa00/0x3e    2       least_cmd_load 8
/dev/rdisk/disk96    0x600508b40006cb7000006000097a0000 ONLINE     64000/0xfa00/0x3f    72      least_cmd_load 8
/dev/rdisk/disk97    0x600508b40006cb700000600009800000 ONLINE     64000/0xfa00/0x40    3       least_cmd_load 8
/dev/rdisk/disk98    0x600508b40006cb700000600009890000 ONLINE     64000/0xfa00/0x41    20      least_cmd_load 8
/dev/rdisk/disk107   0x600508b40006cb7000006000098c0000 ONLINE     64000/0xfa00/0x42    1       least_cmd_load 8
/dev/rdisk/disk108   0x600508b40006cb7000006000098f0000 ONLINE     64000/0xfa00/0x43    1       least_cmd_load 8
/dev/rdisk/disk114   0x600508b40006cb700000600009be0000 ONLINE     64000/0xfa00/0x45    3       least_cmd_load 8
/dev/rdisk/disk119   0x600508b40006cb700000600009de0000 ONLINE     64000/0xfa00/0x46    3       least_cmd_load 8
/dev/rdisk/disk122   0x600508b40006cb700000600009e40000 ONLINE     64000/0xfa00/0x47    32      least_cmd_load 8
/dev/rdisk/disk127   0x600508b40006cb700000600009ef0000 ONLINE     64000/0xfa00/0x48    11      least_cmd_load 8
[root@prod01] ~ #&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Single device query:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[root@prod01] ~ # ifc -D /dev/rdisk/disk127

disk                 wwid                               state      lun_hw_path          size_gb load_bal     max_q_depth
/dev/rdisk/disk127   0x600508b40006cb700000600009ef0000 ONLINE     64000/0xfa00/0x48    11      least_cmd_load 8
 0/3/0/0/0/0.0x50001fe15010bf4a.0x4019000000000000 ACTIVE     (LUN # 25, Flat Space Addressing)
 0/3/0/0/0/0.0x50001fe15010bf4e.0x4019000000000000 STANDBY    (LUN # 25, Flat Space Addressing)
 0/3/0/0/0/1.0x50001fe15010bf4b.0x4019000000000000 ACTIVE     (LUN # 25, Flat Space Addressing)
 0/3/0/0/0/1.0x50001fe15010bf4f.0x4019000000000000 STANDBY    (LUN # 25, Flat Space Addressing)
[root@prod01] ~ #&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Verbose mode:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[root@ignite] / # ifc -v

disk                 wwid                               state      lun_hw_path          size_gb load_bal     max_q_depth
/dev/rdisk/disk3     0x600508e000000000ecc83792ea772803 ONLINE     64000/0xfa00/0x0     135     round_robin  8
 0/2/1/0.0x32877ea9237c8ec.0x0 ACTIVE     (LUN # 0, Peripheral Addressing)
scope                                                   vg_holder
&amp;quot;/escsi/esdisk/0x0/HP      /IR Volume       /HP01&amp;quot;      /dev/vg00                               

disk                 wwid                               state      lun_hw_path          size_gb load_bal     max_q_depth
/dev/rdisk/disk10    0x600508b40006cb700000600008bb0000 ONLINE     64000/0xfa00/0x29    300     least_cmd_load 8
 0/3/0/0/0/0.0x50001fe15010bf4a.0x4001000000000000 ACTIVE     (LUN # 1, Flat Space Addressing)
 0/3/0/0/0/0.0x50001fe15010bf4e.0x4001000000000000 STANDBY    (LUN # 1, Flat Space Addressing)
 0/3/0/0/0/1.0x50001fe15010bf4b.0x4001000000000000 ACTIVE     (LUN # 1, Flat Space Addressing)
 0/3/0/0/0/1.0x50001fe15010bf4f.0x4001000000000000 STANDBY    (LUN # 1, Flat Space Addressing)
scope                                                   vg_holder
&amp;quot;/escsi/esdisk/0x0/HP      /HSV210          /6110&amp;quot;      /dev/vgignite
[root@ignite] / #&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;As you can see, with &lt;code&gt;ioscan_fc2.sh&lt;/code&gt; (aliased as &lt;code&gt;ifc&lt;/code&gt; in my examples), a lot of useful information about the storage stack of an HP-UX can be obtained. Yes someone can say that the info is obtained with HP-UX commands and that’s it is completely true but this script gets the info in a more elegant way and more important, at least for me, in one command.&lt;/p&gt;

&lt;p&gt;Olivier has done a great work with this script, I recommend his &lt;a href=&quot;http://omasse.blogspot.com/&quot;&gt;blog&lt;/a&gt; and his software site, they are a must for every HP-UX System Administrator.&lt;/p&gt;

&lt;p&gt;With his permission here it is a modified version that shows the VG
holder with the verbose switch:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/sh&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# ioscan_fc2.sh&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Gives out a comprehensive report of all agile disk devices on on HP-UX 11iv3 system&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# N.B. This is still beta. I don&amp;#39;t have enough 11.31 servers available to test&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#      the script to its full extent.&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# (c) 2008 Olivier S. Masse, omasse ~at~ mayoxide ~dot~ com&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# This program is free software; you can redistribute it and/or&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# modify it under the terms of the GNU General Public License&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# as published by the Free Software Foundation; either version 2&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# of the License, or (at your option) any later version.&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# This program is distributed in the hope that it will be useful,&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# but WITHOUT ANY WARRANTY; without even the implied warranty of&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# GNU General Public License for more details.&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# You should have received a copy of the GNU General Public License&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# along with this program; if not, write to the Free Software&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;@(#) v0.22 2009/02/09&amp;quot;&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;verbose&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0

&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; usage
&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;typeset &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;myself&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;basename &lt;span class=&quot;nv&quot;&gt;$0&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt; echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;ioscan_fc2 ${version}&amp;quot;&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt; echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Usage: ${myself} [-v] [-H lun_hwpath | -D agile_dsf ...]&amp;quot;&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt; echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Examples:&amp;quot;&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;   ${myself}&amp;quot;&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;   ${myself} -H 64000/0xfa00/0xa&amp;quot;&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;   ${myself} -D /dev/disk/disk73&amp;quot;&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt; exit &lt;/span&gt;1
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; ! &lt;span class=&quot;s2&quot;&gt;&amp;quot;$(uname -r)&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;B.11.31&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Tested only on B.11.31, sorry.&amp;quot;&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;1
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;$1&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;$1&amp;quot;&lt;/span&gt; in
 -v&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;shift&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;verbose&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
 -H&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;shift&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;$1&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;amp&lt;span class=&quot;p&quot;&gt;;&amp;amp;&lt;/span&gt;amp&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; usage &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;desired_hwpath&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
 -D&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;shift&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;$1&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;amp&lt;span class=&quot;p&quot;&gt;;&amp;amp;&lt;/span&gt;amp&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; usage &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;desired_disk&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
 *&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;  usage&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;esac&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;scsimgr_cmd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;scsimgr get_attr all_lun -a device_file -a hw_path -a state -a capacity -a block_size -a wwid -a load_bal_policy -a max_q_depth -p&amp;quot;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; ! &lt;span class=&quot;s2&quot;&gt;&amp;quot;${desired_hwpath}&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;amp&lt;span class=&quot;p&quot;&gt;;&amp;amp;&lt;/span&gt;amp&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;scsimgr_cmd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;scsimgr get_attr -H ${desired_hwpath} -a device_file -a hw_path -a state -a capacity -a block_size -a wwid -a load_bal_policy -a max_q_depth -p&amp;quot;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; ! &lt;span class=&quot;s2&quot;&gt;&amp;quot;${desired_disk}&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;amp&lt;span class=&quot;p&quot;&gt;;&amp;amp;&lt;/span&gt;amp&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;scsimgr_cmd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;scsimgr get_attr -D ${desired_disk} -a device_file -a hw_path -a state -a capacity -a block_size -a wwid -a load_bal_policy -a max_q_depth -p&amp;quot;&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;eval&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;scsimgr_cmd&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; grep rdisk &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;IFS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;:&amp;quot;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;device_file hw_path state capacity block_size wwid load_bal_policy max_q_depth
&lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;${capacity}&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;   &lt;span class=&quot;c&quot;&gt;# capacity is nul if device was unpresented&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
 &lt;span class=&quot;nv&quot;&gt;size_gb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;???&amp;quot;&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;crap&amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; awk &lt;span class=&quot;s1&quot;&gt;&amp;#39;{printf(&amp;quot;%i\n&amp;quot;, &amp;#39;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;${capacity}&amp;quot;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39; * &amp;#39;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;${block_size}&amp;quot;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39; / 1024 / 1024 / 1024);}&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;size_gb
 &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt; printf&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;%-20s %-34s %-10s %-20s %-7s %-12s %-12s\n&amp;quot;&lt;/span&gt; disk wwid state lun_hw_path size_gb load_bal max_q_depth
 &lt;span class=&quot;nb&quot;&gt;printf&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;%-20s %-34s %-10s %-20s %-7s %-12s %-12s\n&amp;quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;${device_file}&amp;quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;${wwid}&amp;quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;${state}&amp;quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;${hw_path}&amp;quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;${size_gb}&amp;quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;${load_bal_policy}&amp;quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;${max_q_depth}&amp;quot;&lt;/span&gt;

 ioscan -kFm hwpath -H &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;hw_path&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;IFS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;:&amp;quot;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;crap lunpath crap
 &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
 scsimgr get_attr -H &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lunpath&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; -a state -p &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;lunpath_state
 scsimgr get_attr -H &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lunpath&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; -a lunid &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; grep &lt;span class=&quot;s2&quot;&gt;&amp;quot;current =&amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;crap crap lunpath_lun
 &lt;span class=&quot;nb&quot;&gt;printf&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;%55s %-10s %-30s\n&amp;quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;${lunpath}&amp;quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;${lunpath_state}&amp;quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;${lunpath_lun}&amp;quot;&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; sort -k 1,1

 &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;verbose&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; -eq &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;printf&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;%-55s %-40s\n&amp;quot;&lt;/span&gt; scope vg_holder
 scsimgr ddr_name -D &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;device_file&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; rev &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; tail -1 &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;ddr_name
 &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;${ddr_name}&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;amp&lt;span class=&quot;p&quot;&gt;;&amp;amp;&lt;/span&gt;amp&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;ddr_name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;(unknown)&amp;quot;&lt;/span&gt;

 &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;device_file&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; sed &lt;span class=&quot;s1&quot;&gt;&amp;#39;s/rdisk/disk/g&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;cooked_device_file
 &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -c &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;device_file&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;_p2 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
 pvdisplay &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;cooked_device_file&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;_p2 2&lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;gt&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;/dev/null &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; awk &lt;span class=&quot;s1&quot;&gt;&amp;#39;/VG Name/ {print $3}&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;vg
 &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
 pvdisplay &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;cooked_device_file&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; 2&lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;gt&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;/dev/null &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; awk &lt;span class=&quot;s1&quot;&gt;&amp;#39;/VG Name/ {print $3}&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;vg
 &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
 &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;${vg}&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;amp&lt;span class=&quot;p&quot;&gt;;&amp;amp;&lt;/span&gt;amp&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;vg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;(unknown)&amp;quot;&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;printf&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;%-55s %-40s\n&amp;quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;${ddr_name}&amp;quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;${vg}&amp;quot;&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;See you next time.&lt;/p&gt;

&lt;p&gt;Juanma.&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/hp-ux/ioscan_fc2-sh/&quot;&gt;ioscan_fc2.sh&lt;/a&gt; was originally published by Juan Manuel Rey at &lt;a href=&quot;&quot;&gt;Juanma's Blog&lt;/a&gt; on December 09, 2009.&lt;/p&gt;
  </content>
</entry>


  

<entry>
  <title type="html"><![CDATA[Hello world!]]></title>
  <link rel="alternate" type="text/html" href="/blog/personal/hello-world/" />
  <id>/blog/personal/hello-world</id>
  <published>2009-12-07T11:35:52+01:00</published>
  <updated>2009-12-07T11:35:52+01:00</updated>
  <author>
    <name>Juan Manuel Rey</name>
    <uri></uri>
    <email>Juan Manuel Rey</email>
  </author>
  <content type="html">
    &lt;p&gt;OK, this it. Finally I manage to get some time to start my technical blog.&lt;/p&gt;

&lt;p&gt;First of all this is not going to a be a blog in the guru style since I don’t consider myself a guru. This is going to be a bit of a ragbag, with tips and thoughs from my day to day work and my past experience. Of course it will be focused mainly in HP-UX and virtualization.&lt;/p&gt;

&lt;p&gt;Hope you like it, all comments are welcome ;-)&lt;/p&gt;

&lt;p&gt;Juanma&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/blog/personal/hello-world/&quot;&gt;Hello world!&lt;/a&gt; was originally published by Juan Manuel Rey at &lt;a href=&quot;&quot;&gt;Juanma's Blog&lt;/a&gt; on December 07, 2009.&lt;/p&gt;
  </content>
</entry>

</feed>
